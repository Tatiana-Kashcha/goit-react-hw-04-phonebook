{"version":3,"file":"static/js/489.6e5da7ef.chunk.js","mappings":"4XAEaA,EAAQC,EAAAA,GAAAA,IAAH,oJASLC,EAASD,EAAAA,GAAAA,IAAH,kIAQNE,EAASF,EAAAA,GAAAA,MAAH,+C,SCVNG,EAAa,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACrBC,GAAOC,EAAAA,EAAAA,MAEPC,EAAQ,OAAGH,QAAH,IAAGA,OAAH,EAAGA,EAAMI,YACjBC,EAAM,OAAGL,QAAH,IAAGA,OAAH,EAAGA,EAAMM,SACfC,EAAM,OAAGP,QAAH,IAAGA,OAAH,EAAGA,EAAMQ,IAErB,GAAgCC,EAAAA,EAAAA,UAASJ,GAAzC,eAAOC,EAAP,KAAiBI,EAAjB,KAGMC,EAAqB,mCAAG,WAAMC,GAAN,gFACtBC,GAAaC,EAAAA,EAAAA,IAAIC,EAAAA,EAAD,yBAA4BH,EAAKI,KAAjC,YAAyCT,IADnC,mBAKpBU,EAAAA,EAAAA,IAAYJ,EAAYD,GALJ,wBAOAM,EAAAA,EAAAA,IAAeL,GAPf,cAOpBM,EAPoB,OAQ1BT,EAAYS,GACZC,QAAQC,IAAI,oBAAqBF,GATP,WAWpBG,EAAAA,EAAAA,IAAcrB,EAAKsB,YAAa,CAAEjB,SAAUa,IAXxB,QAY1BC,QAAQC,IAAI,uCAZc,kDAc1BD,QAAQI,MAAR,MAd0B,0DAAH,sDAkBrBC,EAAgB,mCAAG,WAAMC,GAAN,4EACjBd,EAAOc,EAAMC,OAAOC,MAAM,IADT,gCAGfjB,EAAsBC,GAHP,2CAAH,sDAYtB,OACE,UAAC,EAAD,YACE,SAAC,EAAD,CACEiB,IAAKC,EAELC,IAAKzB,EAAQ,iBAAaH,GAAa,iBACvC6B,QAVmB,WACvBC,SAASC,eAAe,aAAaC,OACtC,KAUG,SAAC,EAAD,CACEC,GAAG,YACHC,KAAK,OACLC,OAAO,UACPC,SAAUd,MAIjB,EC/DYe,EAAO5C,EAAAA,GAAAA,KAAH,ijBAuBJ6C,EAAQ7C,EAAAA,GAAAA,MAAH,8YCrBL8C,EAAc,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAC5B,GAAwBlC,EAAAA,EAAAA,UAAS,IAAjC,eAAOO,EAAP,KAAa4B,EAAb,KACA,GAA4BnC,EAAAA,EAAAA,UAAS,IAArC,eAAOoC,EAAP,KAAeC,EAAf,KAEMC,EAAc,SAAAC,GAClB,MAAwBA,EAAIrB,OAApBX,EAAR,EAAQA,KAAMiC,EAAd,EAAcA,MAEd,OAAQjC,GACN,IAAK,OACH4B,EAAQK,GACR,MAEF,IAAK,SACHH,EAAUG,GAMf,EAQKC,EAAQ,WACZN,EAAQ,IACRE,EAAU,GACX,EAED,OACE,UAAC,EAAD,CAAQK,SAZW,SAAAzB,GACnBA,EAAM0B,iBACNT,EAAQ,CAAE3B,KAAAA,EAAM6B,OAAAA,IAChBK,GACD,EAQC,WACE,UAAC,EAAD,WAAS,QAEP,kBACEb,KAAK,OACLrB,KAAK,OACLqC,MAAM,0IAENC,UAAQ,EACRL,MAAOjC,EACPuB,SAAUQ,QAId,UAAC,EAAD,WAAS,UAEP,kBACEV,KAAK,SACLrB,KAAK,SACLqC,MAAM,+FACNC,UAAQ,EACRL,MAAOJ,EACPN,SAAUQ,QAId,mBAAQV,KAAK,SAAb,SAAsB,kBAG3B,EChEYkB,EAAU3D,EAAAA,GAAAA,IAAH,uOAaP4D,EAAQ5D,EAAAA,GAAAA,IAAH,mJAQL6D,EAAc7D,EAAAA,GAAAA,OAAH,iaAiBX8D,EAAQ9D,EAAAA,GAAAA,GAAH,2FAML+D,EAAc/D,EAAAA,GAAAA,IAAH,mHC1CT,SAAS4D,EAAT,GAAiD,IAAhCH,EAA+B,EAA/BA,MAAOO,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,UACjDC,EAAAA,EAAAA,YAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,EACvC,CACF,IAED,IAAMA,EAAgB,SAAAE,GACL,WAAXA,EAAEC,MACJR,GAEH,EAQD,OACE,SAAC,EAAD,CAAW5B,QAPe,SAAAgB,GACtBA,EAAIqB,gBAAkBrB,EAAIrB,QAC5BiC,GAEH,EAGC,UACE,UAAC,EAAD,WACGP,IAAS,SAAC,EAAD,UAAUA,IACnBQ,GACD,SAAC,EAAD,WACE,SAAC,EAAD,CAAexB,KAAK,SAASL,QAAS4B,EAAtC,SAAkD,iBAO3D,C,0DCnCYpB,GAAO5C,EAAAA,GAAAA,KAAH,qnBA0BJ6C,GAAQ7C,EAAAA,GAAAA,MAAH,8YCrBL0E,GAAW,SAAC,GAOlB,IANLC,EAMI,EANJA,SACAC,EAKI,EALJA,WACApC,EAII,EAJJA,GACAwB,EAGI,EAHJA,WACAa,EAEI,EAFJA,eACAlE,EACI,EADJA,OAEA,GAAwBE,EAAAA,EAAAA,UAAS8D,GAAjC,eAAOvD,EAAP,KAAa4B,EAAb,KACA,GAA4BnC,EAAAA,EAAAA,UAAS+D,GAArC,eAAO3B,EAAP,KAAeC,EAAf,KACA,GAA4CrC,EAAAA,EAAAA,WAAS,GAArD,eAAOiE,EAAP,KAAuBC,EAAvB,KAEM5B,EAAc,SAAAC,GAClB,MAAwBA,EAAIrB,OAApBX,EAAR,EAAQA,KAAMiC,EAAd,EAAcA,MAEd,OAAQjC,GACN,IAAK,OACH4B,EAAQK,GACR,MAEF,IAAK,SACHH,EAAUG,GAMVjC,IAASuD,GAAY1B,IAAW2B,GAClCG,GAAkB,EAErB,EAEKC,EAAY,mCAAG,WAAMT,GAAN,8EACnBA,EAAEf,iBADiB,SAIXyB,GAAaC,EAAAA,GAAAA,IAAIC,EAAAA,GAAI,QAASxE,EAAQ,WAAY6B,GAJvC,UAMX4C,EAAAA,GAAAA,IAAOH,EAAY,CAAE7D,KAAAA,EAAM6B,OAAAA,EAAQT,GAAAA,GAAM,CAAE6C,OAAO,IANvC,uDAQjB7D,QAAQC,IAAR,MARiB,QAWnBoD,IACAvB,IACAU,IAbmB,yDAAH,sDAgBZV,EAAQ,WACZN,EAAQ,IACRE,EAAU,GACX,EAED,OACE,UAAC,GAAD,CAAQK,SAAUyB,EAAlB,WACE,UAAC,GAAD,WAAS,QAEP,kBACEvC,KAAK,OACLrB,KAAK,OACLsC,UAAQ,EACRL,MAAOjC,EACPuB,SAAUQ,QAId,UAAC,GAAD,WAAS,UAEP,kBACEV,KAAK,SACLrB,KAAK,SACLsC,UAAQ,EACRL,MAAOJ,EACPN,SAAUQ,QAId,mBAAQmC,SAAUR,EAAgBrC,KAAK,SAAvC,SAAgD,aAKrD,ECvFY8C,GAAYvF,EAAAA,GAAAA,IAAH,6EAKTwF,GAAMxF,EAAAA,GAAAA,IAAH,kEAKHyF,GAAOzF,EAAAA,GAAAA,EAAH,4CAIJ0F,GAAS1F,EAAAA,GAAAA,EAAH,iEAKN2F,GAAa3F,EAAAA,GAAAA,OAAH,oaAiBV4F,GAAY5F,EAAAA,GAAAA,OAAH,ubC/BT6F,GAAmB,SAAC,GAK1B,IAAD,IAJJzF,KAAQgB,EAIJ,EAJIA,KAAM6B,EAIV,EAJUA,OAAQT,EAIlB,EAJkBA,GACtBsD,EAGI,EAHJA,WACAjB,EAEI,EAFJA,eACAlE,EACI,EADJA,OAEA,GAAsCE,EAAAA,EAAAA,WAAS,GAA/C,eAAOkF,EAAP,KAAoBC,EAApB,KAMMhC,EAAa,WACjBgC,GAAe,EAChB,EAED,OACE,UAAC,GAAD,YACE,UAAC,GAAD,YACE,UAAC,GAAD,WAAS5E,EAAK,QACd,SAAC,GAAD,UAAW6B,QAEb,UAAC,GAAD,YACE,SAAC,GAAD,CAAcb,QAfF,WAChB4D,GAAe,EAChB,EAaK,SAAkC,UAClC,SAAC,GAAD,CAAa5D,QAAS,kBAAM0D,EAAWtD,EAAjB,EAAtB,SAA4C,cAG7CuD,IACC,SAAC,EAAD,CAAOtC,MAAM,eAAeO,WAAYA,EAAxC,UACE,SAACU,GAAD,CACEC,SAAUvD,EACVwD,WAAY3B,EACZT,GAAIA,EACJwB,WAAYA,EACZa,eAAgBA,EAChBlE,OAAQA,QAMnB,EC9CYsF,GAAOjG,EAAAA,GAAAA,GAAH,6KCAJkG,GAAU,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OAAc,SAAC,GAAD,UAASA,GAAvB,ECAVC,GAAOpG,EAAAA,GAAAA,GAAH,oEAKJqG,GAAYrG,EAAAA,GAAAA,GAAH,oGCHTsG,GAAc,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,KAAMT,EAAyC,EAAzCA,WAAYjB,EAA6B,EAA7BA,eAAgBlE,EAAa,EAAbA,OAC9D,OACE,8BACG4F,EAAKC,OAAS,GACb,SAAC,GAAD,UACGD,EAAKE,KAAI,SAAArG,GAAI,OACZ,SAAC,GAAD,WACE,SAACyF,GAAD,CACEzF,KAAMA,EACN0F,WAAYA,EACZjB,eAAgBA,EAChBlE,OAAQA,KALMP,EAAKoC,GADX,OAYhB,SAAC0D,GAAD,CAASC,KAAK,wBAIrB,E,WCvBYO,GAAa1G,EAAAA,GAAAA,OAAH,qaCEV2G,GAAS,WACpB,IAAMtG,GAAOC,EAAAA,EAAAA,MACPsG,GAAWC,EAAAA,GAAAA,MAajB,OACE,+BACE,SAAC,GAAD,CAAczE,QAbG,YACnB0E,EAAAA,EAAAA,IAAQzG,GACL0G,MAAK,WACJH,EAAS,IAAK,CAAEI,SAAS,IACzBxF,QAAQC,IAAI,sBACb,IACAwF,OAAM,SAAArF,GACLJ,QAAQC,IAAIG,EACb,GACJ,EAIG,SAAqC,YAG1C,ECtBY4D,GAAMxF,EAAAA,GAAAA,IAAH,uFAMHkH,GAAclH,EAAAA,GAAAA,EAAH,kEAKXmH,GAAQnH,EAAAA,GAAAA,MAAH,oRCXLoH,GAAS,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,kBAC/B,OACE,UAAC,GAAD,YACE,SAAC,GAAD,UAAe,4BACf,SAAC,GAAD,CACE7E,KAAK,OACLrB,KAAK,OACLiC,MAAOgE,EACP1E,SAAU2E,MAIjB,ECZYC,GAAUvH,EAAAA,GAAAA,QAAH,8CAIPwF,GAAMxF,EAAAA,GAAAA,IAAH,uGAMHuF,GAAYvF,EAAAA,GAAAA,IAAH,2KAWTwH,GAAWxH,EAAAA,GAAAA,EAAH,sICJRyH,GAAY,SAAC,GAAc,IAAZrH,EAAW,EAAXA,KAC1B,GAAgCS,EAAAA,EAAAA,UAAS,IAAzC,eAAO6G,EAAP,KAAiBC,EAAjB,KACA,GAA4B9G,EAAAA,EAAAA,UAAS,IAArC,eAAOwG,EAAP,KAAeO,EAAf,KAEMrH,EAAQ,OAAGH,QAAH,IAAGA,OAAH,EAAGA,EAAMI,YACjBG,EAAM,OAAGP,QAAH,IAAGA,OAAH,EAAGA,EAAMQ,IAEhBL,GACH4D,OAAO0D,SAASC,SAGlB,IAAM/E,EAAO,mCAAG,WAAMwD,GAAN,oFAEYmB,EAASK,MAC/B,SAAAC,GAAO,OAAIA,EAAQ5G,KAAK6G,gBAAkB1B,EAAKnF,KAAK6G,aAA7C,IAHG,uBAOVC,MAAM,8CAPI,iCAWNC,GAAcC,EAAAA,GAAAA,IAAWjD,EAAAA,GAAI,QAASxE,EAAQ,YAXxC,UAYN0H,EAAAA,GAAAA,IAAOF,GAAD,UAAmB5B,IAZnB,yDAgBZ/E,QAAQC,IAAR,MAhBY,QAkBdoD,IAlBc,0DAAH,sDAqBPA,GAAiByD,EAAAA,EAAAA,cAAW,iBAAC,6FAC5B3H,EAD4B,iEAIzBwH,GAAcC,EAAAA,GAAAA,IAAWjD,EAAAA,GAAI,QAASxE,EAAQ,YAJrB,UAKH4H,EAAAA,GAAAA,IAAQJ,GALL,OAKzBK,EALyB,OAQzBC,EAAcD,EAAcE,KAAKjC,KAAI,SAAAuB,GAAO,eAChDxF,GAAIwF,EAAQxF,IACTwF,EAAQzB,OAFqC,IAK5CoC,GAAiB,OAAIF,GAAaG,MAAK,SAACC,EAAGC,GAAJ,OAC3CD,EAAEzH,KAAK6G,cAAcc,cAAcD,EAAE1H,KAAK6G,cADC,IAG7CN,EAAYgB,GAhBmB,kDAkB/BnH,QAAQC,IAAR,MAlB+B,0DAoBhC,CAACd,KAEJuD,EAAAA,EAAAA,YAAU,WACRW,GACD,GAAE,CAACA,IAEJ,IAAMiB,EAAU,mCAAG,WAAMtD,GAAN,8EACXyC,GAAaC,EAAAA,GAAAA,IAAIC,EAAAA,GAAI,QAASxE,EAAQ,WAAY6B,GADvC,UAEXwG,EAAAA,GAAAA,IAAU/D,GAFC,OASjBJ,IATiB,2CAAH,sDAsBVoE,EALGvB,EAASL,QAAO,SAAAW,GAAO,OAC5BA,EAAQ5G,KAAK6G,cAAciB,SAAS7B,EAAOY,cADf,IAOhC,OACE,SAAC,GAAD,WACE,UAAC,GAAD,YACE,UAAC,GAAD,YACE,wBAAI,eACJ,UAAC,GAAD,YACE,UAAC,GAAD,WAAY,aACD,0BAAO1H,QAElB,SAACJ,EAAD,CAAYC,KAAMA,KAElB,SAACuG,GAAD,WAIJ,SAAC7D,EAAD,CAAaC,QAASA,IACrB2E,EAASlB,OAAS,GACjB,iCACE,wBAAI,cACJ,SAACY,GAAD,CAAQC,OAAQA,EAAQC,kBA/BR,SAAA/C,GACxBqD,EAAUrD,EAAExC,OAAOsB,MAAM8F,OAC1B,KA8BS,SAAC7C,GAAD,CACEC,KAAM0C,EACNnD,WAAYA,EACZjB,eAAgBA,EAChBlE,OAAQA,QAIZ,SAACuF,GAAD,CAASC,KAAK,oCAKvB,EChID,GAJsB,SAAC,GAAc,IAAZ/F,EAAW,EAAXA,KACvB,OAAO,SAACqH,GAAD,CAAWrH,KAAMA,GACzB,C","sources":["components/UserAvatar/UserAvatar.styled.js","components/UserAvatar/UserAvatar.jsx","components/ContactForm/ContactForm.styled.js","components/ContactForm/ContactForm.jsx","components/Modal/Modal.styled.js","components/Modal/Modal.jsx","components/EditForm/EditForm.styled.js","components/EditForm/EditForm.jsx","components/ContactListItems/ContactListItems.styled.js","components/ContactListItems/ContactListItems.jsx","components/Message/Message.styled.js","components/Message/Message.js","components/ContactList/ContactList.styled.js","components/ContactList/ContactList.jsx","components/Logout/Logout.styled.js","components/Logout/Logout.jsx","components/Filter/Filter.styled.js","components/Filter/Filter.jsx","components/Phonebook/Phonebook.styled.js","components/Phonebook/Phonebook.jsx","pages/PhonebookPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Thumb = styled.div`\n  width: 38px;\n  height: 38px;\n  border-radius: 50%;\n  margin-right: 40px;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const Avatar = styled.img`\n  border-radius: 50%;\n  min-width: 38px;\n  min-height: 38px;\n  object-fit: cover;\n  cursor: pointer;\n`;\n\nexport const Upload = styled.input`\n  visibility: hidden;\n`;\n","import { useState } from 'react';\n\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { getAuth, updateProfile } from 'firebase/auth';\nimport { storage } from '../../firebase/firebaseConfig';\n\nimport noImageIcon from '../../images/avatar.png';\nimport * as s from './UserAvatar.styled';\n\nexport const UserAvatar = ({ user }) => {\n  const auth = getAuth();\n\n  const userName = user?.displayName;\n  const avatar = user?.photoURL;\n  const userId = user?.uid;\n\n  const [photoURL, setPhotoURL] = useState(avatar);\n\n  // Завантаження фото в Firebase Storage\n  const uploadPhotoToFirebase = async file => {\n    const storageRef = ref(storage, `profile_photos/${file.name}_${userId}`);\n\n    try {\n      // Завантажити файл\n      await uploadBytes(storageRef, file);\n\n      const downloadURL = await getDownloadURL(storageRef);\n      setPhotoURL(downloadURL);\n      console.log('Photo downloaded:', downloadURL);\n\n      await updateProfile(auth.currentUser, { photoURL: downloadURL });\n      console.log('Profile photo updated successfully!');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleFileChange = async event => {\n    const file = event.target.files[0];\n    if (file) {\n      await uploadPhotoToFirebase(file);\n    }\n  };\n\n  // Відкрити вибір файлу\n  const handlePhotoClick = () => {\n    document.getElementById('fileInput').click();\n  };\n\n  return (\n    <s.Thumb>\n      <s.Avatar\n        src={noImageIcon} // заглушка фото в Firebase Storage до оновлення плану\n        // src={photoURL ? photoURL : noImageIcon}\n        alt={photoURL ? `Avatar ${userName}` : 'Default avatar'}\n        onClick={handlePhotoClick}\n      />\n      <s.Upload\n        id=\"fileInput\"\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileChange}\n      />\n    </s.Thumb>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  padding: 10px;\n  margin-top: 20px;\n  border: 2px solid rgb(34 155 15);\n  border-radius: 4px;\n  button {\n    padding: 4px 8px;\n    font-size: 14px;\n    color: rgb(34 155 15);\n    font-weight: bold;\n    border: 1px solid rgb(34 155 15);\n    border-radius: 4px;\n    cursor: pointer;\n    background-color: white;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 0px 1px, rgba(0, 0, 0, 0.14) 0px 0px 1px,\n      rgba(0, 0, 0, 0.2) 0px 1px 0px;\n    &:hover {\n      background-color: rgb(34 155 15);\n      color: #ffffff;\n    }\n  }\n`;\n\nexport const Label = styled.label`\n  font-size: 20px;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  input {\n    max-width: 550px;\n    padding: 2px;\n    margin-top: 6px;\n    border: 1px solid rgb(34 155 15);\n    border-radius: 4px;\n    &:focus {\n      border-color: rgb(99, 149, 241, 0.6);\n      outline: 2px rgba(99, 149, 241, 0.6);\n      outline-style: solid;\n    }\n  }\n`;\n","import { useState } from 'react';\nimport * as s from './ContactForm.styled';\nimport PropTypes from 'prop-types';\n\nexport const ContactForm = ({ addUser }) => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n\n  const handleCange = evt => {\n    const { name, value } = evt.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'number':\n        setNumber(value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    addUser({ name, number });\n    reset();\n  };\n\n  const reset = () => {\n    setName('');\n    setNumber('');\n  };\n\n  return (\n    <s.Form onSubmit={handleSubmit}>\n      <s.Label>\n        Name\n        <input\n          type=\"text\"\n          name=\"name\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. \n            For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          required\n          value={name}\n          onChange={handleCange}\n        />\n      </s.Label>\n\n      <s.Label>\n        Number\n        <input\n          type=\"number\"\n          name=\"number\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          required\n          value={number}\n          onChange={handleCange}\n        />\n      </s.Label>\n\n      <button type=\"submit\">Add contact</button>\n    </s.Form>\n  );\n};\n\nContactForm.propTypes = {\n  addUser: PropTypes.func.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nexport const Modal = styled.div`\n  width: 500px;\n  background-color: #ffff;\n  padding: 20px;\n  border: 2px solid rgb(156 72 35);\n  border-radius: 4px;\n`;\n\nexport const CloseButton = styled.button`\n  padding: 4px 8px;\n  font-size: 14px;\n  color: rgb(245 29 29);\n  font-weight: bold;\n  border: 1px solid rgb(245 29 29);\n  border-radius: 4px;\n  cursor: pointer;\n  background-color: white;\n  box-shadow: rgba(0, 0, 0, 0.12) 0px 0px 1px, rgba(0, 0, 0, 0.14) 0px 0px 1px,\n    rgba(0, 0, 0, 0.2) 0px 1px 0px;\n  &:hover {\n    background-color: rgb(245 29 29);\n    color: #ffffff;\n  }\n`;\n\nexport const Title = styled.h2`\n  font-size: 28px;\n  margin-bottom: 20px;\n  text-align: center;\n`;\n\nexport const ThumbButton = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20px;\n`;\n","import { useEffect } from 'react';\nimport * as s from './Modal.styled';\nimport PropTypes from 'prop-types';\n\nexport default function Modal({ title, closeModal, children }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      closeModal();\n    }\n  };\n\n  const handleBackdropClick = evt => {\n    if (evt.currentTarget === evt.target) {\n      closeModal();\n    }\n  };\n\n  return (\n    <s.Overlay onClick={handleBackdropClick}>\n      <s.Modal>\n        {title && <s.Title>{title}</s.Title>}\n        {children}\n        <s.ThumbButton>\n          <s.CloseButton type=\"button\" onClick={closeModal}>\n            Cancel\n          </s.CloseButton>\n        </s.ThumbButton>\n      </s.Modal>\n    </s.Overlay>\n  );\n}\n\nModal.propTypes = {\n  title: PropTypes.string,\n  closeModal: PropTypes.func.isRequired,\n  children: PropTypes.any.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  padding: 10px;\n  border: 2px solid rgb(34 155 15);\n  border-radius: 4px;\n  button {\n    padding: 4px 8px;\n    font-size: 14px;\n    color: rgb(34 155 15);\n    font-weight: bold;\n    border: 1px solid rgb(34 155 15);\n    border-radius: 4px;\n    cursor: pointer;\n    background-color: white;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 0px 1px, rgba(0, 0, 0, 0.14) 0px 0px 1px,\n      rgba(0, 0, 0, 0.2) 0px 1px 0px;\n    &:hover {\n      background-color: rgb(34 155 15);\n      color: #ffffff;\n    }\n    &:disabled {\n      background-color: lightgray;\n      cursor: not-allowed;\n    }\n  }\n`;\n\nexport const Label = styled.label`\n  font-size: 20px;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  input {\n    max-width: 450px;\n    padding: 4px;\n    margin-top: 6px;\n    border: 1px solid rgb(34 155 15);\n    border-radius: 4px;\n    &:focus {\n      border-color: rgb(99, 149, 241, 0.6);\n      outline: 2px rgba(99, 149, 241, 0.6);\n      outline-style: solid;\n    }\n  }\n`;\n","import { db } from '../../firebase/firebaseConfig';\nimport { setDoc, doc } from 'firebase/firestore';\n\nimport { useState } from 'react';\n\nimport * as s from './EditForm.styled';\n\nexport const EditForm = ({\n  editName,\n  editNumber,\n  id,\n  closeModal,\n  getAllContacts,\n  userId,\n}) => {\n  const [name, setName] = useState(editName);\n  const [number, setNumber] = useState(editNumber);\n  const [buttonDisabled, setbuttonDisabled] = useState(true);\n\n  const handleCange = evt => {\n    const { name, value } = evt.target;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'number':\n        setNumber(value);\n        break;\n\n      default:\n        break;\n    }\n    if (name !== editName || number !== editNumber) {\n      setbuttonDisabled(false);\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const contactRef = doc(db, 'users', userId, 'contacts', id); // у поточного користувача\n      // const contactRef = doc(db, 'contacts', id); // у загальній таблиці\n      await setDoc(contactRef, { name, number, id }, { merge: true });\n    } catch (error) {\n      console.log(error);\n    }\n\n    getAllContacts();\n    reset();\n    closeModal();\n  };\n\n  const reset = () => {\n    setName('');\n    setNumber('');\n  };\n\n  return (\n    <s.Form onSubmit={handleSubmit}>\n      <s.Label>\n        Name\n        <input\n          type=\"text\"\n          name=\"name\"\n          required\n          value={name}\n          onChange={handleCange}\n        />\n      </s.Label>\n\n      <s.Label>\n        Number\n        <input\n          type=\"number\"\n          name=\"number\"\n          required\n          value={number}\n          onChange={handleCange}\n        />\n      </s.Label>\n\n      <button disabled={buttonDisabled} type=\"submit\">\n        Change\n      </button>\n    </s.Form>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const Div = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const Name = styled.p`\n  font-size: 18px;\n`;\n\nexport const Number = styled.p`\n  font-size: 18px;\n  margin-left: 5px;\n`;\n\nexport const ButtonEdit = styled.button`\n  padding: 4px 8px;\n  font-size: 14px;\n  color: rgb(99 149 241);\n  font-weight: bold;\n  border: 1px solid rgb(99 149 241);\n  border-radius: 4px;\n  cursor: pointer;\n  background-color: white;\n  box-shadow: rgba(0, 0, 0, 0.12) 0px 0px 1px, rgba(0, 0, 0, 0.14) 0px 0px 1px,\n    rgba(0, 0, 0, 0.2) 0px 1px 0px;\n  &:hover {\n    background-color: rgb(99 149 241);\n    color: #ffffff;\n  }\n`;\n\nexport const ButtonDel = styled.button`\n  margin-left: 10px;\n  padding: 4px 8px;\n  font-size: 14px;\n  color: rgb(245 29 29);\n  font-weight: bold;\n  border: 1px solid rgb(245 29 29);\n  border-radius: 4px;\n  cursor: pointer;\n  background-color: white;\n  box-shadow: rgba(0, 0, 0, 0.12) 0px 0px 1px, rgba(0, 0, 0, 0.14) 0px 0px 1px,\n    rgba(0, 0, 0, 0.2) 0px 1px 0px;\n  &:hover {\n    background-color: rgb(245 29 29);\n    color: #ffffff;\n  }\n`;\n","import { useState } from 'react';\nimport Modal from 'components/Modal/Modal';\nimport { EditForm } from 'components/EditForm/EditForm';\n\nimport * as s from './ContactListItems.styled';\nimport PropTypes from 'prop-types';\n\nexport const ContactListItems = ({\n  user: { name, number, id },\n  deleteUser,\n  getAllContacts,\n  userId,\n}) => {\n  const [isShowModal, setIsShowModal] = useState(false);\n\n  const showModal = () => {\n    setIsShowModal(true);\n  };\n\n  const closeModal = () => {\n    setIsShowModal(false);\n  };\n\n  return (\n    <s.Container>\n      <s.Div>\n        <s.Name>{name}:</s.Name>\n        <s.Number>{number}</s.Number>\n      </s.Div>\n      <s.Div>\n        <s.ButtonEdit onClick={showModal}>Edit</s.ButtonEdit>\n        <s.ButtonDel onClick={() => deleteUser(id)}>Delete</s.ButtonDel>\n      </s.Div>\n\n      {isShowModal && (\n        <Modal title=\"Edit contact\" closeModal={closeModal}>\n          <EditForm\n            editName={name}\n            editNumber={number}\n            id={id}\n            closeModal={closeModal}\n            getAllContacts={getAllContacts}\n            userId={userId}\n          />\n        </Modal>\n      )}\n    </s.Container>\n  );\n};\n\nContactListItems.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    number: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n  }).isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Text = styled.h2`\n  font-size: 32px;\n  font-weight: 600;\n  padding: 20px 0;\n  text-align: center;\n  color: #b1a9a9;\n  background-color: rgba(68, 173, 70, 0.24);\n`;\n","import * as s from './Message.styled';\n\nexport const Message = ({ text }) => <s.Text>{text}</s.Text>;\n","import styled from 'styled-components';\n\nexport const List = styled.ol`\n  margin-top: 15px;\n  padding-left: 25px;\n`;\n\nexport const ListItems = styled.li`\n  padding: 5px 0;\n  margin-bottom: 5px;\n  border-bottom: solid 1px gray;\n`;\n","import { ContactListItems } from '../ContactListItems/ContactListItems';\nimport { Message } from 'components/Message/Message';\nimport * as s from './ContactList.styled';\n\nexport const ContactList = ({ data, deleteUser, getAllContacts, userId }) => {\n  return (\n    <>\n      {data.length > 0 ? (\n        <s.List>\n          {data.map(user => (\n            <s.ListItems key={user.id}>\n              <ContactListItems\n                user={user}\n                deleteUser={deleteUser}\n                getAllContacts={getAllContacts}\n                userId={userId}\n              />\n            </s.ListItems>\n          ))}\n        </s.List>\n      ) : (\n        <Message text=\"Contact not found!\" />\n      )}\n    </>\n  );\n};\n","import styled from 'styled-components';\n\nexport const ButtonAuth = styled.button`\n  padding: 10px 8px;\n  font-size: 14px;\n  color: rgb(99 149 241);\n  font-weight: bold;\n  border: 1px solid rgb(99 149 241);\n  border-radius: 4px;\n  cursor: pointer;\n  background-color: white;\n  box-shadow: rgba(0, 0, 0, 0.12) 0px 0px 1px, rgba(0, 0, 0, 0.14) 0px 0px 1px,\n    rgba(0, 0, 0, 0.2) 0px 1px 0px;\n  &:hover {\n    background-color: rgb(99 149 241);\n    color: #ffffff;\n  }\n`;\n","import { getAuth, signOut } from 'firebase/auth';\nimport { useNavigate } from 'react-router-dom';\nimport * as s from './Logout.styled';\n\nexport const Logout = () => {\n  const auth = getAuth();\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    signOut(auth)\n      .then(() => {\n        navigate('/', { replace: true });\n        console.log('Sign-out successful');\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <>\n      <s.ButtonAuth onClick={handleLogout}>Logout</s.ButtonAuth>\n    </>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Div = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 20px;\n`;\n\nexport const Description = styled.p`\n  font-weight: bold;\n  font-size: 18px;\n`;\n\nexport const Input = styled.input`\n  max-width: 100%;\n  padding: 4px;\n  border: 1px solid rgb(34 155 15);\n  border-radius: 4px;\n  margin-left: 10px;\n  &:focus {\n    border-color: rgb(99, 149, 241, 0.6);\n    outline: 2px rgba(99, 149, 241, 0.6);\n    outline-style: solid;\n  }\n`;\n","import * as s from './Filter.styled';\n\nexport const Filter = ({ filter, handleCangeFilter }) => {\n  return (\n    <s.Div>\n      <s.Description>Find contacts by name:</s.Description>\n      <s.Input\n        type=\"text\"\n        name=\"name\"\n        value={filter}\n        onChange={handleCangeFilter}\n      />\n    </s.Div>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Section = styled.section`\n  padding: 40px 0;\n`;\n\nexport const Div = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport const Container = styled.div`\n  padding-left: 20px;\n  padding-right: 20px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 700px;\n  h2 {\n    margin-top: 20px;\n  }\n`;\n\nexport const Greeting = styled.p`\n  font-weight: bold;\n  font-size: 18px;\n  margin-right: 15px;\n  span {\n    color: rgb(12 80 206);\n  }\n`;\n","import { useState, useEffect, useCallback } from 'react';\nimport { UserAvatar } from 'components/UserAvatar/UserAvatar';\nimport { ContactForm } from 'components/ContactForm/ContactForm';\nimport { ContactList } from 'components/ContactList/ContactList';\nimport { Logout } from 'components/Logout/Logout';\nimport { Message } from 'components/Message/Message';\nimport { Filter } from 'components/Filter/Filter';\n\nimport { db } from '../../firebase/firebaseConfig';\nimport {\n  collection,\n  addDoc,\n  getDocs,\n  deleteDoc,\n  doc,\n} from 'firebase/firestore';\n\nimport * as s from './Phonebook.styled';\n\nexport const Phonebook = ({ user }) => {\n  const [contacts, setContacts] = useState([]);\n  const [filter, setFilter] = useState('');\n\n  const userName = user?.displayName;\n  const userId = user?.uid;\n\n  if (!userName) {\n    window.location.reload();\n  }\n\n  const addUser = async data => {\n    try {\n      const isDuplicateUser = contacts.some(\n        contact => contact.name.toLowerCase() === data.name.toLowerCase()\n      );\n\n      if (isDuplicateUser) {\n        alert('This name is already in the contacts list.');\n        return;\n      }\n\n      const contactsRef = collection(db, 'users', userId, 'contacts');\n      await addDoc(contactsRef, { ...data }); // до списку контактів поточного користувача\n\n      // await addDoc(collection(db, 'contacts'), { ...data }); // до загальної таблиці\n    } catch (error) {\n      console.log(error);\n    }\n    getAllContacts();\n  };\n\n  const getAllContacts = useCallback(async () => {\n    if (!userId) return;\n\n    try {\n      const contactsRef = collection(db, 'users', userId, 'contacts');\n      const querySnapshot = await getDocs(contactsRef); // список контактів поточного користувача\n\n      // const querySnapshot = await getDocs(collection(db, 'contacts')); // список із загальної таблиці\n      const allContacts = querySnapshot.docs.map(contact => ({\n        id: contact.id,\n        ...contact.data(),\n      }));\n\n      const sortedContacts = [...allContacts].sort((a, b) =>\n        a.name.toLowerCase().localeCompare(b.name.toLowerCase())\n      );\n      setContacts(sortedContacts);\n    } catch (error) {\n      console.log(error);\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    getAllContacts();\n  }, [getAllContacts]);\n\n  const deleteUser = async id => {\n    const contactRef = doc(db, 'users', userId, 'contacts', id);\n    await deleteDoc(contactRef); // із контактів поточного користувача\n\n    // await deleteDoc(doc(db, 'contacts', id)); // із загальної таблиці\n    try {\n    } catch (error) {\n      console.log(error);\n    }\n    getAllContacts();\n  };\n\n  const handleCangeFilter = e => {\n    setFilter(e.target.value.trim());\n  };\n\n  const searchContactInBook = () => {\n    return contacts.filter(contact =>\n      contact.name.toLowerCase().includes(filter.toLowerCase())\n    );\n  };\n\n  const searchContact = searchContactInBook();\n\n  return (\n    <s.Section>\n      <s.Container>\n        <s.Div>\n          <h1>Phonebook</h1>\n          <s.Div>\n            <s.Greeting>\n              Welcome, <span>{userName}</span>\n            </s.Greeting>\n            <UserAvatar user={user} />\n\n            <Logout />\n          </s.Div>\n        </s.Div>\n\n        <ContactForm addUser={addUser} />\n        {contacts.length > 0 ? (\n          <>\n            <h2>Contacts</h2>\n            <Filter filter={filter} handleCangeFilter={handleCangeFilter} />\n            <ContactList\n              data={searchContact}\n              deleteUser={deleteUser}\n              getAllContacts={getAllContacts}\n              userId={userId}\n            />\n          </>\n        ) : (\n          <Message text=\"Your contacts will be here!\" />\n        )}\n      </s.Container>\n    </s.Section>\n  );\n};\n","import { Phonebook } from 'components/Phonebook/Phonebook';\n\nconst PhonebookPage = ({ user }) => {\n  return <Phonebook user={user} />;\n};\n\nexport default PhonebookPage;\n"],"names":["Thumb","styled","Avatar","Upload","UserAvatar","user","auth","getAuth","userName","displayName","avatar","photoURL","userId","uid","useState","setPhotoURL","uploadPhotoToFirebase","file","storageRef","ref","storage","name","uploadBytes","getDownloadURL","downloadURL","console","log","updateProfile","currentUser","error","handleFileChange","event","target","files","src","noImageIcon","alt","onClick","document","getElementById","click","id","type","accept","onChange","Form","Label","ContactForm","addUser","setName","number","setNumber","handleCange","evt","value","reset","onSubmit","preventDefault","title","required","Overlay","Modal","CloseButton","Title","ThumbButton","closeModal","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","currentTarget","EditForm","editName","editNumber","getAllContacts","buttonDisabled","setbuttonDisabled","handleSubmit","contactRef","doc","db","setDoc","merge","disabled","Container","Div","Name","Number","ButtonEdit","ButtonDel","ContactListItems","deleteUser","isShowModal","setIsShowModal","Text","Message","text","List","ListItems","ContactList","data","length","map","ButtonAuth","Logout","navigate","useNavigate","signOut","then","replace","catch","Description","Input","Filter","filter","handleCangeFilter","Section","Greeting","Phonebook","contacts","setContacts","setFilter","location","reload","some","contact","toLowerCase","alert","contactsRef","collection","addDoc","useCallback","getDocs","querySnapshot","allContacts","docs","sortedContacts","sort","a","b","localeCompare","deleteDoc","searchContact","includes","trim"],"sourceRoot":""}